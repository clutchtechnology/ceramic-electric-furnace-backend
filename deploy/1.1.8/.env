# ============================================================
# 电炉监控后端 v1.1.8 - 本地部署配置
# ============================================================
# 部署方式: Python 原生运行 (非 Docker)
# 优势: 
#   - 直接访问串口 (COM1) 无需映射
#   - 无 Docker 网络开销
#   - 更简单的维护和调试
# ============================================================

# ======================== 运行模式 ========================
# False = 生产模式 (连接真实 PLC)
# True = Mock 模式 (开发测试用)
MOCK_MODE=false

# ======================== 服务器配置 ========================
SERVER_HOST=0.0.0.0
SERVER_PORT=8082
DEBUG=false

# ======================== PLC 配置 ========================
PLC_IP=192.168.1.10
PLC_PORT=102
PLC_RACK=0
PLC_SLOT=1

# ======================== InfluxDB 配置 ========================
# Docker 容器运行时使用: http://furnace-influxdb:8086
# 本地部署使用: http://localhost:8089 或 http://127.0.0.1:8089
INFLUX_URL=http://localhost:8089
INFLUX_TOKEN=furnace-token
INFLUX_ORG=furnace
INFLUX_BUCKET=sensor_data

# ======================== Modbus RTU 配置 ========================
# 料仓称重传感器串口
# Windows 本地运行: COM1
# Docker 容器运行: socket://host.docker.internal:7777
MODBUS_PORT=COM1
MODBUS_BAUDRATE=19200

# ======================== 轮询配置 ========================
# 轮询间隔 (秒) - 电炉场景建议 2 秒快速响应
POLLING_INTERVAL=2
# 自动启动轮询 (建议 false, 由前端触发)
ENABLE_POLLING=false

# ======================== 电表配置 ========================
# 电流互感器变比 (100A/5A = 20)
CT_RATIO=20
# 电压互感器变比
PT_RATIO=1

# ======================== DB 块配置 ========================
DB32_NUMBER=32
DB32_SIZE=28
DB30_NUMBER=30
DB30_SIZE=40
DB33_NUMBER=33
DB33_SIZE=56
